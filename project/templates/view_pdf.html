<!-- view selected document -->

{% extends "base.html" %}
{% block content %}

    <a href="{{ url_for('view_pdf', doc_id=doc.id) }}"
   onclick="popoutPDF(event, this.href)"
   class="btn btn-primary">
   Popout PDF
</a>

<script>
function popoutPDF(event, url) {
    event.preventDefault();  // stop normal navigation

    const popup = window.open(
        url,
        '_blank',
        'width=900,height=700,toolbar=no,menubar=no,scrollbars=yes,resizable=yes'
    );

    if (!popup || popup.closed || typeof popup.closed === 'undefined') {
        // popup blocked â€” fallback
        console.warn('Popup blocked, opening in same tab instead.');
        window.location.href = url;
    }
}
</script>




{% endblock %}